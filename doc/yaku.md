---
title: 麻雀プログラム 手役仕様
---

## 概要

* 門前手であることを必要とする手役も存在する。
* 門前手はロンアガリすることができる。
* ロン牌が刻子を構成するようなアガリでは、門前のアガリではあるが、符の計算においてその刻子を明刻とみなすものとする。
* 食い下がりという概念のある手役もある。
* 手役は複合的に数える。したがって異なる手役が同一の和了形に対して同時に適用されることがある。
  * この方式で 13 飜以上になると数え役満といって、得点を役満相当とする。
  * 役満手であるとき、通常役を手役に数えないものとする。
  * 役満手であるとき、いかなるドラをも飜数に込めないものとする。

## 一飜役

### 立直

成立条件はゲーム進行仕様のリーチの項で述べたとおりとする。

後述するダブル立直とは複合せず、ダブル立直のほうを採用する。

### 一発

プレイヤー A によるリーチの宣言直後から A の次の手番までに、
（暗槓を含む）鳴きが発生せずにロン牌が場に出たか、ツモアガリを達成したときにこの役を複合する。
鳴きが発生した場合には A の一発は消える（一発消し）。

### 門前清自摸和

この役は和了形に暗槓以外の副露がない状態でのツモアガリにこの役を複合する。

### 平和

平和の原義は副底以外に符が付かない和了形をいう：

* 四面子が順子であり、
* 一雀頭の構成が符が付かないものであり、
* さらに待ちが未完成順子の両面待ちである

ものをいう。しかし、一飜役としては門前手であることを要求する。

ツモアガリのときには（ツモ 2 符をの原則を無視して）20 符を、
ロンアガリのときには 30 符を副底とする。

### 一盃口

一飜役としては門前手であることを要求する。
同一の順子を和了形に含むとき一盃口を複合する。

TODO: ～とは複合しない

### 断么九

和了形に么九牌も字牌も含まれないときにこの役を複合する。

### 役牌

和了形に次の牌からなる刻子（槓子）があるとき、それらを複合的に役として扱うものとする。
例えば東場で東家が東の刻子を含むアガリを成立させると、東を自風牌と場風牌の両方とみなして
2 翻を加算する。

* 白・発・中
* 和了者に対する自風牌
* 場風牌

### 嶺上開花

プレイ進行仕様のカンの項を参照すること。

カン（大明槓、暗槓、加槓のいずれでも）の宣言に伴い、リンシャンから手牌に牌を補充する。
そのときにプレイヤーの手牌が和了形になるとツモアガリを宣言することができる。
このときにこの役を複合する。

### 搶槓

プレイ進行仕様のカンの項を参照すること。

1. プレイヤー A の加槓の際、副露明刻に追加する牌がプレイヤー B の和了牌であるとする。
   この瞬間に B は A に対してロンを宣言することができる。
2. プレイヤー A の暗槓の際、それを構成する牌が国士無双をテンパイしているプレイヤー B の和了牌であるとする。
   この瞬間に B は A に対してロンを宣言することができる。
   ただし B の手役は役満であるので、搶槓とは複合しないものとする。

これらの場合、カンは不成立に終わるので、カンドラはめくられない。

### 海底撈月

海底牌でツモアガリしたプレイヤーにはこの役を複合する。
海底間際にカンをして嶺上から補充した牌が結果的に「海底牌」になる場合には、嶺上開花のほうを採用する。

### 河底撈魚

プレイヤー A が海底で切った牌がプレイヤー B の和了牌であるとする。
このとき B は A にロンを宣言できる。B のロンが成立するとこの役を複合する。

## 二翻役

### 三色同順

数列が同一の順子が萬子・筒子・索子の三種で手牌に含まれているときにこの役を複合する。

食い下がりを適用する：門前手でないときには一飜役として扱う。

### 一気通貫

同一色の牌で三連続する順子が含まれているときにこの役を複合する。

食い下がりを適用する：門前手でないときには一飜役として扱う。

### 混全帯么九

和了形の四面子・一雀頭のすべてが么九牌または字牌を含むときにこの役を複合する。
この役が成立するには、一面子以上が順子である必要があることに注意する。

食い下がりを適用する：門前手でないときには一飜役として扱う。

### ダブル立直

リーチ宣言が宣言者の第一ツモで発生した場合に（立直ではなく）この役を優先する。
ただし、第一ツモまでの間に一切の鳴き・暗槓が発生していた場合にはダブル立直とはせず、通常の立直として扱う。

### 七対子

門前手で相異なる牌 7 種の対子が完成したときにこの役が成立し、二飜役として複合する。

符は 25 符固定であることに注意する。

### 三色同刻

手牌に刻子を三つ含み、それらが同じ数である場合にこの役を複合する。

### 三暗刻

手牌に暗刻または暗槓を（ちょうど）三つ含むときにこの役を複合する。

### 三槓子

手牌に槓子を（ちょうど）三つ含むときにこの役を複合する。

### 対々和

手牌の四面子が順子を含まないときにこの役を複合する。

### 小三元

四面子一雀頭のうち、二面子一雀頭が三元牌で構成されているときにこの役を複合する。
二面子に対してはそれぞれを役牌として別途複合する。

### 混老頭

和了形が么九牌または字牌しか含まないときにこの役を複合する（字牌が一種以上必要）。

同時に対々和または七対子のいずれか一方が成立することになり、それらも個別に複合する。

## 三飜役

先に食い下がりのあるものを挙げる。門前でない場合には二飜役扱いとする。

### 混一色

手牌の数牌すべてが同一色であるときにこの役を複合する。
いずれかの面子または雀頭が字牌で構成されている必要があることに注意する（字牌がなければ清一色とする）。

食い下がりを適用する：門前手でないときには二飜役として扱う。

### 純全帯么九

和了形の四面子・一雀頭のすべてが么九牌を含むときにこの役を複合する。
この役が成立するには、一面子以上が順子である必要があることに注意する。

食い下がりを適用する：門前手でないときには二飜役として扱う。

### 二盃口

門前手であって、四面子が相異なる一盃口要素からなるとき、この役を複合する。
一盃口とは複合しないものとする：高得点採用原則に従い、二盃口を採用する。

## 六飜役

### 清一色

手牌のすべてが同一色の数牌から構成されるときにこの役を複合する。

門前でない場合には五飜役扱いとする。

## 役満

役満は 13 飜として得点を計算する。

* 役満は他の役満と複合的に手役に含める。
  * したがってダブル役満、トリプル役満、それ以上があり得る。
  * TODO: それ以上の仕様

役満である手役は以下の通り：

### 国士無双

### 国士無双十三面待ち

### 九蓮宝燈

### 天和

### 地和

### 四暗刻

### 四暗刻単騎待ち

### 四槓子

### 緑一色

### 字一色

### 大三元

### 小四喜

### 大四喜

## 流し満貫

* 流し満貫は他のいかなる手役とも複合しないものとする。
* 流し満貫はいかなるドラをも飜数に含めないものとする。

プレイヤー A が以下の条件を満たすときに、流し満貫を宣言することができるものとする。

* 通常流局の成立寸前である
* A の捨牌がすべて么九字牌である
* A の捨牌が誰からも鳴かれていない

このとき、A は満貫ツモ扱いの得点を得るものとする。

TODO: 複数のプレイヤーが流し満貫成立条件を満たしたときの仕様。
相当に面倒そうだが、確か MJ が実現させていたのを YouTube で観たことがある。
